<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Index</title>
    <link rel = "stylesheet" href = "main.css" type = "text/css">
</head>
<body>
    <header>
        <nav class="navbar">
          <a href = "index.html">
            <img class = "logo" src = "FED/logo1.png" alt = "Logo">
          </a>
            <ul class="nav-menu">
                <li class="nav-item">
                    <a href="Product page.html" class="nav-link">Products</a>
                </li> 
                <li class="nav-item">
                    <a href="cart page.html" class="nav-link">Cart</a>
                </li> 
                <li class="nav-item">
                    <a href="profile.html" class="nav-link">Profile</a>
                </li> 
                <!-- <li class="nav-item">
                  <a href="Log in.html" class="nav-link">Log In</a>
              </li>  -->
            </ul>
            <div class="hamburger">
                <span class="bar"></span>
                <span class="bar"></span>
                <span class="bar"></span>
            </div>
        </nav>
    </header>
    <section>
        <h1 style="text-align: center;">New Items</h1>
        <div id="products-container" class="index-container"></div>
    </section>
    <section>   
        <div class="newsletter">
            <h2>Subscribe to Our Newsletter</h2>
            <p>Be the first to know about our latest products, special offers, and exclusive discounts!</p>
            <form id="newsletter-form">
                <input type="email" name="email" placeholder="Your email address" required>
                <button type="submit">Subscribe</button>
            </form>
        </div>
    </section>    
    
    <script>
        const productsContainer = document.getElementById('products-container');

        fetch('https://fakestoreapi.com/products')
            .then(res => res.json())
            .then(products => {
                // Process the first 5 products and update the DOM
                for (let i = 0; i < 5; i++) {
                    const product = products[i];
                    const productElement = document.createElement('div');
                    productElement.className = 'index-box';
                    // Add an anchor element around the image linking to product_details.html
                    productElement.innerHTML = `
                        <a href="product description.html?title=${encodeURIComponent(product.title)}&description=${encodeURIComponent(product.description)}&price=${encodeURIComponent(product.price)}&image=${encodeURIComponent(product.image)}">
                            <img src="${product.image}" alt="${product.title}" width="200" height="200">
                        </a>
                    `;
                    productsContainer.appendChild(productElement);
                }
            })
            .catch(error => console.error('Error:', error));
    </script>
    <script src="script.js"></script>
</body>
</html>