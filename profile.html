<!DOCTYPE html>
<html lang ="en">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <head>
        <title>login page</title>
        <link rel = "stylesheet" href = "main.css" type = "text/css">
    </head>

    <body>
      <header>
        <nav class="navbar">
          <a href = "index.html">
            <img class = "logo" src = "FED/logo1.png" alt = "Logo">
          </a>
            <ul class="nav-menu">
                <li class="nav-item">
                    <a href="#" class="nav-link">Men</a>
                </li> 
                <li class="nav-item">
                    <a href="#" class="nav-link">Women</a>
                </li> 
                <li class="nav-item">
                    <a href="#" class="nav-link">Kids</a>
                </li> 
                <li class="nav-item">
                  <a href="Log in.html" class="nav-link">Log In</a>
              </li> 
            </ul>
            <div class="hamburger">
                <span class="bar"></span>
                <span class="bar"></span>
                <span class="bar"></span>
            </div>
        </nav>
      </header>
        <div class="profile-container">
          <!-- <img class="avatar" src="FED/avatar.png" alt="User Avatar"> -->
          <div class="user-info" id="userInfo">
            <h2>User Info</h2>
            <p><strong>Username:</strong> <span id="usernameDisplay"></span></p>
            <p class="tier">Tier: <span id="tierDisplay"></span></p>
            <p class="points">Points Available: <span id="pointsDisplay"></span></p>
          </div>
          
        </div>
        <script>
          document.addEventListener("DOMContentLoaded", function () {
          // Retrieve user data from localStorage
          const authenticatedUser = JSON.parse(localStorage.getItem('authenticatedUser'));

          if (authenticatedUser) {
            // Update user info with the username
            const usernameDisplay = document.getElementById('usernameDisplay');
            const pointsDisplay = document.getElementById('pointsDisplay');
            const tierDisplay = document.getElementById('tierDisplay');


            usernameDisplay.innerText = authenticatedUser.Username;
            pointsDisplay.innerText = authenticatedUser.Points || 'N/A';
    const points = parseInt(authenticatedUser.Points) || 0; // Ensure points are a number
      let tier = '';
      let tierColor = '';

      if (points >= 200) {
        tier = 'Gold';
        tierColor = 'gold';
      } else if (points >= 100) {
        tier = 'Silver';
        tierColor = 'silver';
      } else {
        tier = 'Ordinary';
        tierColor = 'white';
      }

      tierDisplay.innerText = tier;
      tierDisplay.style.color = tierColor;
  } else {
    // Handle the case when the user is not authenticated
    console.log("User not authenticated");
  }
  window.addEventListener("beforeunload", function () {
    localStorage.removeItem('authenticatedUser');
  });
});

        </script>
      </body>
</html>